<ng-container *ngIf="mode$ | async as mode">
    <mat-nav-list *ngIf="mode === 'nav'">
        <ng-container *ngFor="let item of items">
            <a mat-list-item *ngIf="displayWith(item) as li" [routerLink]="li.link">
                <mat-checkbox
                    [value]="item"
                    (change)="onCheckboxChange($event)"
                    (click)="$event.stopPropagation()">
                </mat-checkbox>
                {{ li.title }}
            </a>
        </ng-container>
    </mat-nav-list>
    <mat-selection-list *ngIf="mode === 'select'" [formControl]="selectionControl">
        <ng-container *ngFor="let item of items">
            <mat-list-option *ngIf="displayWith(item) as li" [checkboxPosition]="'before'" [value]="item">
                {{ li.title }}
            </mat-list-option>
        </ng-container>
    </mat-selection-list>
</ng-container>
